#! /usr/bin/env node

const resolve = require('path').resolve
const version = require(resolve('package')).version
const commander = require('commander')

const Adapter = require('../lib/index')

commander
    .version(version)
    .option('--git <boolean>', 'generate git info file', true)
    .option('--npm <boolean>', 'generate npm build info file', true)
    .option('--folder <string>', 'the output folder', '.actuator')
    .parse(process.argv)

const git = commander.git
const npm = commander.npm
const folder = commander.folder

const contributors = []
git && contributors.push('git')
npm && contributors.push('build')

new Adapter().generateBuildInfo({
    contributors
}).then(() => {
    console.log('Done')
}).catch((e) => {
    console.error(e)
})